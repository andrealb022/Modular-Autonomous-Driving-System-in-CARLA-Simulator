# CARLA Simulation â€” Automatic Control L6

This project enables a CARLA simulation for automatic vehicle control along a predefined route, using Docker containers and a web interface to visualize the front camera.

---

## Project Setup

1. **Start the Docker containers** (CARLA server + client):

   ```bash
   ./docker_run_server.sh
   ./docker_run_client.sh
   docker attach <CONTAINER ID client>
   ```

2. **Extract the `Progetto` folder** into the following path:

   ```
   /workspace/team_code/carlaContolL6
   ```

3. **Navigate to the `Progetto` folder**:

   ```
   cd workspace/team_code/carlaContolL6/Progetto
   ```

---

## Route Modification

To set or modify the vehicle route:

- You can **change the XML file path** directly in:

  ```bash
  run_test.sh
  ```

- Alternatively, you can **edit the existing XML file**:

  ```
  Progetto/routes/route_controlling.xml
  ```

- All the routes used to test the agent in simulation are avaiable in the "routes" directory.

---

## Cleaning Outputs

Before each simulation, **clean the output from previous runs** using:

```bash
./clean.sh
```

---

## Starting the Simulation

### Start the test

Launch the simulation:

```bash
nohup python3 server_http.py > ./log/output_server.log 2>&1 &
```

```bash
nohup ./run_test.sh > ./log/output_run_test.log 2>&1 &
```

Make sure port `9818` is free for the HTTP server.
To view the front camera stream from a browser:

```
http://172.16.174.233:9818/
```

---

## Modifying Paths

To modify file paths or references, check and edit:

```
run_test.sh
```

---

## Simulation Outputs

The outputs generated by the simulation are saved in the folders:

```
Progetto/results
Progetto/log
```
